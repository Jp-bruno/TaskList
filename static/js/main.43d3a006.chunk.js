(this.webpackJsonppr1=this.webpackJsonppr1||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),s=n(8),a=n.n(s),d=n(2),l=n(3),o=n(6),r=n(9),u=n(10),j=Object(r.a)((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["1","1"],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["",""],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(u.a)(this,e),this.titulo=t,this.descricao=n,this.dataInicio=i,this.dataFinal=c,this.complete=s})),m=n(0),b=Object(c.createContext)({});function O(e){var t=e.children,n=Object(c.useState)({items:[new j("Encontro com aliens","Ser abduzido","",u())],selectedItem:null,someSelected:!1,completedTasks:[]}),i=Object(l.a)(n,2),s=i[0],a=i[1];function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=document.getElementById("taskDescriptionArea");t.value=e}function u(){var e=new Date;return[e.toLocaleDateString(),e.toTimeString().slice(0,8)]}return Object(m.jsx)(b.Provider,{value:{items:s.items,selectedItem:s.selectedItem,someSelected:s.someSelected,removeItem:function(e){var t=Number(e.target.id.slice(6)),n=Object(o.a)(s.items);n.splice(t,1),a(Object(d.a)(Object(d.a)({},s),{},{selectedItem:0===n.length?null:n[n.length-1],items:n,someSelected:0!==n.length})),r(0===n.length?"":n[n.length-1].descricao)},addItem:function(e){if("Enter"===e.key){var t=document.getElementById("newTaskInput");if(""===t.value||s.items.find((function(e){return e.titulo===t.value})))return;var n=u(),c=Object(l.a)(n,2),i=c[0],r=c[1],m=new j(t.value,"","",[i,r]),b=[].concat(Object(o.a)(s.items),[m]);a(Object(d.a)(Object(d.a)({},s),{},{items:b,someSelected:!!s.someSelected})),t.value=""}},selectItem:function(e){var t=s.items.find((function(t){return t.titulo===(e.target?e.target.innerText:e)}));if(!s.someSelected||s.selectedItem.titulo!==t.titulo){var n=s.items.findIndex((function(t){return t.titulo===(e.target?e.target.innerText:e)})),c=document.getElementById("item"+n);Array.from(document.querySelectorAll(".listItem")).forEach((function(e){return e.classList.contains("selected")?e.classList.remove("selected"):function(){}})),c.classList.add("selected"),a(Object(d.a)(Object(d.a)({},s),{},{selectedItem:t,someSelected:!0})),r(t.descricao)}},updateItemTitle:function(e){if("Escape"!==e.key){var t=s.items.map((function(e,t){var n=document.getElementById("newTitleInput".concat(t));return e.titulo===s.selectedItem.titulo?(e.titulo=n.value,e):e}));a(Object(d.a)(Object(d.a)({},s),{},{items:t}))}},updateItemDescription:function(){var e=document.getElementById("taskDescriptionArea");if(e.value!==s.selectedItem.descricao){var t=s.items.map((function(t){return s.someSelected&&t.titulo===s.selectedItem.titulo?(t.descricao=e.value,t):t}));a(Object(d.a)(Object(d.a)({},s),{},{items:t}))}},completeTask:function(){var e=s.items.findIndex((function(e){return e.titulo===s.selectedItem.titulo})),t=s.items.map((function(e){return e.titulo===s.selectedItem.titulo?(e.complete=!0,e.dataFinal=u(),e):e}));a(Object(d.a)(Object(d.a)({},s),{},{items:t,selectedItem:t[e],completedTasks:[].concat(Object(o.a)(s.completedTasks),[t[e]])}))}},children:t})}function h(e){var t=e.indexId,n=Object(c.useContext)(b);return Object(m.jsx)("button",{id:"remove"+t,onClick:n.removeItem,children:Object(m.jsx)("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(m.jsx)("path",{d:"M1.05055 1L16 16M15.9495 1L1 16",stroke:"rgba(255,255,255,0.3)",strokeWidth:"2",strokeLinecap:"round"})})})}function x(e){var t=e.indexId,n=e.changeMode;return Object(m.jsx)("button",{id:"edit"+t,onClick:n,children:Object(m.jsx)("svg",{width:"26",height:"22",viewBox:"0 0 26 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(m.jsx)("path",{strokeWidth:"2",d:"M8.17896 20.9416H25.2432M15.9462 2.54879L19.3842 5.9868M2.34135 14.8764L16.0627 1.15499C16.8438 0.373937 18.1101 0.373936 18.8912 1.15498L20.4872 2.75102C21.2682 3.53207 21.2682 4.7984 20.4872 5.57945L6.77665 19.29C6.65685 19.4098 2.87073 20.0848 1.47829 20.1308C1.09116 20.1436 1.04264 19.7983 1.12278 19.4193L1.92273 15.6369C1.9598 15.4616 2.01537 15.2887 2.11826 15.142C2.18469 15.0473 2.25931 14.9584 2.34135 14.8764Z",stroke:"rgba(255,255,255,0.5)"})})})}function v(e){var t=e.children,n=e.indexId,i=e.complete,s=Object(c.useState)({editMode:!1}),a=Object(l.a)(s,2),o=a[0],r=a[1],u=Object(c.useContext)(b);function j(e){if("Enter"===e.key&&o.editMode){if(""===document.getElementById("newTitleInput".concat(n)).value)return;r(Object(d.a)(Object(d.a)({},o),{},{editMode:!o.editMode})),u.updateItemTitle(e)}else if("Escape"===e.key&&o.editMode)console.log(u.selectItem.titulo),r(Object(d.a)(Object(d.a)({},o),{},{editMode:!1}));else if("click"===e.type&&0==o.editMode){var t=document.getElementById("titulo".concat(n)).innerText;u.selectItem(t),setTimeout((function(){return document.getElementById("newTitleInput".concat(n)).focus()}),50),r(Object(d.a)(Object(d.a)({},o),{},{editMode:!o.editMode}))}else"blur"===e.type&&r(Object(d.a)(Object(d.a)({},o),{},{editMode:!o.editMode}))}return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("li",{className:"listItem ".concat(i?"completed":""),id:"item".concat(n),children:o.editMode?Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("input",{maxLength:50,id:"newTitleInput".concat(n),className:"newTitleInput",onKeyDown:j,onBlur:j})}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("p",{id:"titulo".concat(n),onClick:u.selectItem,children:t}),Object(m.jsxs)("div",{id:"editOrRemoveDiv",children:[i?null:Object(m.jsx)(x,{indexId:n,changeMode:j}),Object(m.jsx)(h,{indexId:n})]})]})},n)})}function p(){var e=Object(c.useContext)(b);return Object(m.jsx)("div",{id:"newListItem",children:Object(m.jsx)("input",{id:"newTaskInput",placeholder:"Nova tarefa",onKeyDown:e.addItem})})}function f(){var e=Object(c.useContext)(b);return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("ul",{id:"list",children:[e.items?e.items.map((function(e,t){return Object(m.jsx)(v,{indexId:t,complete:!!e.complete,children:e.titulo},t)})):null,Object(m.jsx)(p,{},"last")]})})}function I(e){var t=e.disableSaveButton,n=Object(c.useContext)(b);return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("button",{id:"saveButton",onClick:function(){n.updateItemDescription(),t()},children:"Salvar"})})}function g(){var e=Object(c.useContext)(b);return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("button",{id:"completeTaskButton",onClick:e.completeTask,children:"Completar tarefa"})})}function k(e){var t=e.disableSaveButton,n=e.hasChange,i=Object(c.useContext)(b);return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{id:"taskSettingsOnDisplay",children:[Object(m.jsxs)("div",{id:"taskTimeData",children:[Object(m.jsxs)("p",{children:["Criado em: ",Object(m.jsx)("span",{children:i.selectedItem.dataInicio[0]})," ",i.selectedItem.dataInicio[1]?"\xe0s":""," ",Object(m.jsx)("span",{children:i.selectedItem.dataInicio[1]})]}),i.selectedItem.complete?Object(m.jsxs)("p",{children:["Finalizado em: ",Object(m.jsx)("span",{children:i.selectedItem.dataFinal[0]})," ",i.selectedItem.dataFinal[1]?"\xe0s":""," ",Object(m.jsx)("span",{children:i.selectedItem.dataFinal[1]})]}):null]}),i.selectedItem.complete?null:Object(m.jsxs)("div",{id:"saveOrComplete",children:[n?Object(m.jsx)(I,{disableSaveButton:t}):null,Object(m.jsx)(g,{})]})]})})}function C(){var e=Object(c.useContext)(b),t=Object(c.useState)({contentChanged:!1}),n=Object(l.a)(t,2),i=n[0],s=n[1];function a(){s({contentChanged:!1})}return Object(c.useEffect)((function(){return e.someSelected?a():function(){}}),[e.selectedItem,e.someSelected]),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("section",{id:"taskSection",children:[Object(m.jsx)("textarea",{onChange:function(){s({contentChanged:!0})},id:"taskDescriptionArea",placeholder:e.selectedItem?"Descreva sua tarefa.":"Selecione uma tarefa.",readOnly:!e.someSelected}),e.someSelected?Object(m.jsx)(k,{hasChange:i.contentChanged,disableSaveButton:a}):null]})})}n(16),n(17),n(18);var S=function(){return Object(c.useContext)(b),Object(m.jsx)(O,{children:Object(m.jsx)("div",{className:"App",children:Object(m.jsxs)("div",{id:"wrapper",children:[Object(m.jsx)("div",{id:"listWrapper",children:Object(m.jsx)(f,{})}),Object(m.jsx)(C,{})]})})})};a.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(S,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.43d3a006.chunk.js.map